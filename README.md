# douban-diary-to-md

## 开发日志

1. 依赖 crawler 爬取豆瓣主页的时候，只能拿到 html 源码，这时候页面上的登录输入框是动态内容，因此需要类似自动化测试库类似的利用无头浏览器直接模拟用户操作才能达到模拟登录的效果。于是安装 puppeteer 库。

2. 获取豆瓣首页的登录区域的时候发现它的登录区域是加载了一个 iframe，于是需要获取 iframe 页面然后再获取其中的输入框等元素。页面中有多个 iframe，因此需要过滤。

3. 自动输入账号名密码登录会触发机器人检测，需要滑动滑块。滑块通过后还需要扫描检查身份，因此无法实现自动化登录。改为手动登录，等待用户扫描。

4. 登录成功后通过点击链接来到日记页面，然后开始爬取一共有多少分页，接着依次爬取日记内容。